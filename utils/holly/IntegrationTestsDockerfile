FROM buildpack-deps:bullseye
RUN apt-get clean && \
    apt-get update -qq -y && \
    apt-get install curl python3 python3-pip libncurses5 g++-multilib -y && \
    apt-get install git libglib2.0-dev libfdt-dev libpixman-1-dev zlib1g-dev ninja-build && \
    apt-get install libaio-dev libbluetooth-dev libcapstone-dev libbrlapi-dev libbz2-dev && \
    apt-get install libcap-ng-dev libcurl4-gnutls-dev libgtk-3-dev && \
    apt-get install libibverbs-dev libjpeg8-dev libncurses5-dev libnuma-dev && \
    apt-get install librbd-dev librdmacm-dev && \
    apt-get install libsasl2-dev libsdl2-dev libseccomp-dev libsnappy-dev libssh-dev && \
    apt-get install libvde-dev libvdeplug-dev libvte-2.91-dev libxen-dev liblzo2-dev && \
    apt-get install valgrind xfslibs-dev
    apt-get install libgl1 libglu1 freeglut3 libglew2.1 libepoxy-dev multiarch-support libusb-1.0-0-dev
RUN pip3 install --upgrade pip
WORKDIR /work
ADD utils/bootstrap.py utils/bootstrap.py
ADD utils/debug utils/debug
RUN python3 utils/bootstrap.py && rm -rf utils